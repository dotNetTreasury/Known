<div class="mini-splitter" style="width:100%;height:100%;">
    <div id="splitLeft" tooltip="关闭/显示菜单" size="150px"
         showCollapseButton="true" style="padding:5px;">
        <ul id="leftTree" class="mini-tree" style="width:100%;height:100%;"></ul>
    </div>
    <div id="splitRight"></div>
</div>
<script>
    var ModuleView = {

        leftTree: null,

        show: function () {
            this.leftTree = mini.get('leftTree');

            var _this = this;
            this.leftTree.set({ url: '/static/data/menu.txt', resultAsTree: false });
            this.leftTree.on('nodeclick', function (e) { _this.treeNodeClick(e); });
        },

        treeNodeClick: function (e) {
            if (e.isLeaf) {
                this.showForm(e.node);
            }
        },

        showForm: function (node) {
            $('#splitRight').loadView('/System/Partials/ModuleForm', {
                node: node,
                callback: function () {

                }
            });
        }

    };
</script>