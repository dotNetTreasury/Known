<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Known管理系统(Api版)</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="static/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/libs/easyui/themes/material-teal/easyui.css">
    <script src="static/libs/jquery.min.js"></script>
    <script src="static/libs/easyui/jquery.easyui.min.js"></script>
    <style>
        .header{height:60px;background:#3c8dbc;color:#fff;}
        .header h1{margin:0;padding:0;line-height:60px;}
        .footer{height:30px;}
        .footer .copyright{text-align:right;line-height:30px;margin-right:10px;}
    </style>
</head>
<body class="easyui-layout">
    <div class="header" data-options="region:'north',border:false">
        <h1>Known管理系统(Api版)</h1>
    </div>
    <div style="width:200px;" data-options="region:'west',split:true,title:'系统导航'">
        <ul id="leftTree"></ul>
    </div>
    <div class="footer" data-options="region:'south',border:false">
        <div class="copyright">&copy;2019 Known</div>
    </div>
    <div data-options="region:'center'">
        <div id="mainTabs" style="width:100%;height:100%;">
            <div title="控制台" data-options="iconCls:'fa fa-home'"></div>
        </div>
    </div>
    <script>
        var Index = {

            mainTabs: null,

            show: function () {
                this.mainTabs = this._initMainTabs();
                this._initLeftTree();
            },

            _initMainTabs: function () {
                return $('#mainTabs').tabs({
                    border: false,
                    onSelect: function (title) {

                    }
                });
            },

            _initLeftTree: function () {
                var _this = this;
                $('#leftTree').tree({
                    method: 'get',
                    url: 'static/data/menu.json',
                    onClick: function (node) {
                        var tab = _this.mainTabs.tabs('getTab', node.text);
                        if (tab) {
                            var index = _this.mainTabs.tabs('getTabIndex', tab);
                            _this.mainTabs.tabs('select', index);
                        } else {
                            _this.mainTabs.tabs('add', {
                                id: node.id,
                                title: node.text,
                                content: 'Body' + node.text,
                                closable: true
                            });
                        }
                    }
                });
            }

        };

        Index.show();
        
    </script>
</body>
</html>