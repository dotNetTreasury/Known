@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>@ViewBag.SystemName</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <link rel="stylesheet" href="~/static/comm/css/login.css">
</head>
<body>
    @Html.AntiForgeryToken()

    <div class="login">
        <div class="message">@ViewBag.SystemName</div>
        <div id="darkbannerwrap"></div>
        <div>
            <input type="text" id="userName" placeholder="用户名" autocomplete="off">
            <hr class="hr15">
            <input type="password" id="password" placeholder="密码">
            <hr class="hr15">
            <input type="button" id="btnLogin" value="登录" style="width:100%;">
            <hr class="hr20">
            <div id="error" style="color:#f00"></div>
        </div>
    </div>
    <div class="copyright">© 2018 KNOWN</div>

    <script src="~/static/comm/js/jquery.min.js"></script>
    <script src="~/static/comm/js/jquery.md5.js"></script>
    <script src="~/static/comm/js/common.js"></script>
    <script>
        $(function () {
            $('#btnLogin').click(function () {
                var userName = $('#userName').val();
                var password = $('#password').val();
                if (!userName) {
                    _showMessage('请输入用户名！');
                    return;
                }
                if (!password) {
                    _showMessage('请输入密码！');
                    return;
                }

                _showMessage('');
                var $this = $(this).attr('disabled', 'disabled').val('登录中...');
                Ajax.postJson('@Url.Action("SignIn", "User")', {
                    userName: userName, password: $.md5(password), backUrl: '@ViewBag.BackUrl'
                }, function (result) {
                    _showMessage(result.Message);
                    if (result.IsValid) {
                        location = result.Data;
                    } else {
                        $this.removeAttr('disabled').val('登录');
                    }
                });

                function _showMessage(message) {
                    $('#error').html(message);
                }
            });
        });
    </script>
</body>
</html>