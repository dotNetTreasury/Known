var DemoForm={form:null,toolbar:null,show:function(){this.form=new Form("formDemo");this.toolbar=new Toolbar("tbDemo",this)},getForm:function(){var n=this.form.getData(!0);alert(n)},setForm:function(){this.form.setData({String:"abc",Date:"2020-11-12",Boolean:"Y",TreeSelect:"ajax",countrys:"cn",countrys3:"usa"});this.form.bindEnterJump()},resetForm:function(){this.form.reset()},clearForm:function(){this.form.clear()},submitForm:function(){var n=this.form.getData(!0);$.ajax({url:"../data/FormService.aspx?method=SaveData",type:"post",data:{submitData:n},success:function(n){alert("提交成功，返回结果:"+n)}})},loadForm:function(){var n=this;$.ajax({url:"../data/FormService.aspx?method=LoadData",type:"post",success:function(t){var i=mini.decode(t);n.form.setData(i)}})},setLabel:function(){this.form.model(!0)},setInput:function(){this.form.model(!1)}},DemoGrid={grid:null,toolbar:null,show:function(){this.grid=new Grid("Demo");this.toolbar=new Toolbar("tbGrid",this);$(".query-btn-adv").click(function(){$(".query").toggle(0,function(){mini.layout()})});this.grid.load()},refresh:function(){this.grid.reload()},addForm:function(){Message.alert("AddForm")},addHlForm:function(){Message.alert("AddHlForm")},addTabForm:function(){Message.alert("AddTabForm")},edit:function(){this.grid.checkSelect(function(){})},"delete":function(){this.grid.deleteRows(function(){})},"import":function(){Message.alert("Import")},exportExcel:function(){},exportPdf:function(){},upload:function(){Message.alert("Upload")},download:function(){Message.alert("Download")},sync:function(){Message.alert("Sync")},close:function(){DemoView.close()},search:function(){this.grid.search()}},DemoReport={grid:null,toolbar:null,show:function(){this.grid=new Grid("Report");this.toolbar=new Toolbar("tbReport",this);this.grid.load()}},DemoTab={show:function(){}},DevCodeGen={show:function(){}},DevDatabase={grid:null,toolbar:null,show:function(){this.grid=new Grid("Database",{});this.toolbar=new Toolbar("tbDatabase",this)},"new":function(){this.grid.query.clear();this.grid.setColumns([])},query:function(){if(this.grid.query.validate()){var n=this.grid;n.load(function(t){var r=[{type:"indexcolumn"}],i;if(t.result.data.length)for(i in t.result.data[0])i!=="_id"&&i!=="_uid"&&r.push({field:i,header:i});n.setColumns(r);new ColumnsMenu(t.sender)})}}},DemoView={show:function(){mini.get("leftTree").on("nodeselect",this.onTreeNodeSelect)},close:function(){window.CloseOwnerWindow()},onTreeNodeSelect:function(n){$("#splitRight").loadHtml("/frame/partial",{name:n.node.view},function(){mini.parse();n.node.id==="code"?DevCodeGen.show():n.node.id==="data"?DevDatabase.show():n.node.id==="grid"?DemoGrid.show():n.node.id==="tab"?DemoTab.show():n.node.id==="form"?DemoForm.show():n.node.id==="report"&&DemoReport.show()})}};$(function(){mini.parse();DemoView.show()});