function DevForm(){function n(n){var t=["选项一","选项二"],i=new Form("DevForm",{type:n,tips:"带星号为必填字段。",fields:[{field:"Id",type:"hidden"},{title:"基本信息",type:"group"},{title:"只读文本",field:"Readonly",type:"text",readonly:!0},{title:"文本",field:"Text",type:"text",required:!0},{title:"日期",field:"Date",type:"date",placeholder:DateFormat},{title:"下拉框",field:"Select",type:"select",code:t},{title:"其他信息",type:"group"},{title:"复选框",field:"Check",type:"checkbox",code:t},{title:"单选框",field:"Radio",type:"radio",code:t},{title:"文本",field:"Text",type:"text",unit:"元"},{title:"文本域",field:"TextArea",type:"textarea",itemStyle:"block"}],toolbar:[{icon:"fa fa-save",text:"保存",handler:function(){i.save("",function(){app.router.back()})}}]});this.render=function(){var n=$("<div>").addClass("content");return i.render().appendTo(n),n};this.mounted=function(){i.setData({Id:"1",Readonly:"T0001",Text:"test",Date:"2021-01-01",Select:"选项一",Check:"选项二",Radio:"选项一",Text1:3e3,TextArea:"tetstest"})}}var t=new Tabs({items:[{name:"表单1",component:new n("form")},{name:"表单2",component:new n("form-block")}]});this.render=function(){var n=$("<div>").addClass("content");return t.render().appendTo(n),n}}function DevGrid(){var n=new Grid({url:"",autoQuery:!1,columns:[{title:"报警时间",field:"AlarmTime"},{title:"参数",field:"ParamName"},{title:"报警值",field:"ParamValue"},{title:"报警阈值",field:"AlarmLimit"}],querys:[{title:"时间",field:"Date",type:"dateRange",labelWidth:"60px",width:"110px"}],onSearch:function(){}});this.render=function(){var t=$("<div>").addClass("content");return n.render().appendTo(t),t};this.mounted=function(){n.setData([{AlarmTime:"2021-11-01 14:00:00",ParamName:"氨氮",ParamValue:"560mg/L",AlarmLimit:"0.05-500mg/L"},{AlarmTime:"2021-11-05 12:00:00",ParamName:"氨氮",ParamValue:"501mg/L",AlarmLimit:"0.05-500mg/L"}])}}function DevError(){var n=new Menu({items:[{bgColor:"#66cc66",icon:"fa fa-close",name:"403",component:new Error({type:"403"})},{bgColor:"#224b39",icon:"fa fa-close",name:"404",component:new Error({type:"404"})},{bgColor:"#0096dd",icon:"fa fa-close",name:"500",component:new Error({type:"500"})},]});this.render=function(){var t=$("<div>").addClass("content");return n.render().appendTo(t),t}}function IoTOnline(){this.render=function(){var i=(new Date).format("yyyy-MM-dd HH:mm:ss"),n=$("<div>").addClass("content param"),t;return $("<div>").addClass("param-name").html("监测参数：氨氮").appendTo(n),t=$("<div>").addClass("param-value").appendTo(n),$("<span>").addClass("value").html("205").appendTo(t),$("<span>").addClass("unit").html("mg/L").appendTo(t),$("<div>").addClass("param-time").html("时间："+i).appendTo(n),$("<div>").addClass("param-time").html("阈值：0.05 - 500 mg/L").appendTo(n),n}}function IoTSetting(){var n=new Form("Setting",{type:"form-block",fields:[{title:"报警阈值设置",type:"group"},{title:"氨氮最大值",field:"MaxAN",type:"text",required:!0,unit:"mg/L"},{title:"短信提醒设置",type:"group"},{title:"通知手机号",field:"NoticePhone",type:"text",required:!0}],toolbar:[{icon:"fa fa-save",text:"保存",handler:function(){n.save("",function(){app.router.back()})}}]});this.render=function(){var t=$("<div>").addClass("content setting");return n.render().appendTo(t),t};this.mounted=function(){n.setData({MaxAN:"500",NoticePhone:"13812345678"})}}function DevHome(){var n=new Slider({height:"35%",items:[{img:"/img/bg.jpg"}]}),t=new Menu({lineCount:4,items:[{bgColor:"#66cc66",id:"menuForm",icon:"fa fa-wpforms",name:"表单示例",component:new DevForm},{bgColor:"#224b39",id:"menuGrid",icon:"fa fa-table",name:"表格示例",component:new DevGrid},{bgColor:"#0096dd",id:"menuOnline",icon:"fa fa-wifi",name:"实时监测",component:new IoTOnline},{bgColor:"#9b59b6",id:"menuSetting",icon:"fa fa-cog",name:"参数设置",component:new IoTSetting},{bgColor:"#dd4b39",id:"menuError",icon:"fa fa-close",name:"错误页面",component:new DevError},{bgColor:"#00a0ff",id:"menuMap",icon:"fa fa-map-marker",name:"地图示例"},{bgColor:"#eecc00",id:"menuChart",icon:"fa fa-bar-chart",name:"图表示例"},{bgColor:"#00a65a",id:"menuAdd",icon:"fa fa-plus",name:"功能待加"}]});this.render=function(){var i=$('<div class="content">');return n.render().appendTo(i),$("<h2>").addClass("sys-title").html("Known移动端UI系统").appendTo(i),t.render().appendTo(i),i};this.mounted=function(){}}function DevOnline(){var n=new Tabs({items:[{name:"实时监测"},{name:"地图监测"},{name:"实时报警"},{name:"视频监控"}]});this.render=function(){var t=$('<div class="content">');return n.render().appendTo(t),t}}const sysBaseUrl=baseApiUrl+"/Dev",sysStaticUrl=baseUrl+"/plugins/wims";app.setTabbar([{icon:"fa fa-home",id:"tbHome",name:"首页",hideTop:!0,component:new DevHome},{icon:"fa fa-wifi",id:"tbOnline",name:"监测",title:"在线监测",component:new IoTOnline},{icon:"fa fa-user-o",id:"tbUser",name:"我的",title:"我的信息",component:new SysUser},]);app.loadUser(baseUrl+"/Home/GetUserData");$("#tbUser .badge").html(3).show();